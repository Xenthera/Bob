// Test string indexing functionality

print("Testing string indexing...");

var testString = "Hello, World!";

// Test basic indexing
assert(testString[0] == "H", "First character should be 'H'");
assert(testString[1] == "e", "Second character should be 'e'");
assert(testString[12] == "!", "Last character should be '!'");

// Test length
assert(testString.len() == 13, "String length should be 13");

// Test out of bounds (should throw error)
try {
    var invalid = testString[20];
    assert(false, "Should have thrown out of bounds error");
} catch (e) {
    print("Correctly caught out of bounds error");
}

// Test negative indexing (Python-style)
assert(testString[-1] == "!", "Last character should be '!'");
assert(testString[-2] == "d", "Second to last character should be 'd'");
assert(testString[-13] == "H", "First character via negative index should be 'H'");

// Test negative index out of bounds (should throw error)
try {
    var invalid = testString[-20];
    assert(false, "Should have thrown negative index out of bounds error");
} catch (e) {
    print("Correctly caught negative index out of bounds error");
}

// Test string assignment (should be read-only)
try {
    testString[0] = "X";
    assert(false, "Should have thrown immutable error");
} catch (e) {
    print("Correctly caught immutable string error");
}

// Test increment/decrement (should be read-only)
try {
    testString[0]++;
    assert(false, "Should have thrown immutable error for increment");
} catch (e) {
    print("Correctly caught immutable string error for increment");
}

print("String indexing tests passed!");
